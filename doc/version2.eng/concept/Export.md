# Експорт модуля і `out-will-файл`

### Kos : має бути окрема секія для кожної концепції

### Експортований <code>will-файл</code> (<code>out-will-файл</code>)

<code>Out-will-файл</code> - різновид <code>will-файла</code> згенерованого утилітою при експортуванні модуля. Інші модулі можуть використати даний модуль імортувавши його <code>out-will-файл</code>.

### <a name="module-export"></a> Експорт модуля

Особливий вид збірки необхідний для використання даного модуля іншими розробниками та модулями. Результатом експортування модуля є аретфакти, зокерма <code>out-will-file</code>.

 Результатом експорту модуля є згенерований конфігураційний `*.out.will.`-файл та, опціонально, архів з файлами модуля (`*` позначає назву збірки, за якою виконувався експорт).  
Процес генерування `*.out.will.`-файла включає як копіювання інформації з поточного модуля, так і додавання сервісної інформації, оскільки, згенеровані `*.out.will.`-файли використовуються для імпорту підмодулів.  
Експорт модуля здійснюється з допомогою вбудованого кроку `predefined.export`. Крок включає поля `export` - посилання на файли, які будуть експортовані i `tar` - опція архівування. Приклад запису вбудованого кроку експорту:

```yaml
step:                                   # Назва секції
  predefined:                           # Назва кроку
    inherit: predefined.export          # Наслідування вбудованого кроку експорту модуля
    export: path::fileToExport          # Шлях до файлів модуля, що експортуються
    tar: 0                              # Архівування експортованої конфігурації. '1' - ввімкнена,
                                        # '0' - вимкнена. За замовчуванням '1'

```

Крок можливо записати в скороченій формі при цьому опція `tar` буде ввімкнена.

```yaml
step:                                   
  predefined:                           
    export: path::fileToExport    

```

### <a name="out-will-file"></a> Експортований `will-файл` (`*.out.will`-файл)
`Will-файл`, який автоматично згенерований утилітою при виконанні експорту модуля.
Утиліта створює структуру `*.out.will.`-файла (тут і далі `*` позначає назву збірки, за якою виконувався експорт) використовуючи ресурси вихідного `will-файла` а також додаючи спеціальні. `*.out.will.`-файл має визначену структуру:  

```
*.out.will.yml
    ├── format
    ├── about
    ├── execution
    ├── path
    ├── submodule
    ├── reflector
    ├── step
    ├── build
    └── exported

```

Секція-поле `format` - позначає формат файла для виконання утилітою . Має значення `willfile-1.0.0`.  
Секція `about` повністю копіюється з вихідного `will-файла`, додається поле `enabled : 1`.
Секція `execution` - в стані розробки, має порожнє значення.  
Секція `path` копіює ресурси з вихідного файла та додатково включає згенеровані утилітою ресурси: `exportedDir.*` - шляхи до експортованих директорій модуля;  
`exportedFiles.*` - шляхи до експортованих файлів модуля;  
`archiveFile.*` - шлях до архіву з експортом модуля. Поле вказується якщо включене архівування при експорті (`tar : 1`).  
Секція `submodule` копіює ресурси з вихідного файла.  
В секцію `reflector` крім даних вихідного файла поміщено згенеровані ресурси:
`exported.*` - рефлектор за яким було створено експорт;  
`exportedFiles*` - рефлектор з детальним списком файлів, які було експортовано.
Секції `step` i `build` копіюються без змін.
Секція `exported`. Містить інфомацію про модуль і посилання на згенеровані ресурси.
