# <a name="file-filter"></a> Файловий фільтр

Особливий вид селектора для відбору файлів в рефлекторі.  
Прийнято, що файлові фільтри присутні лише в рефлекторах і належать полю `src`. 
До файлових фільтрів відносяться прості фільтри, маски файлових операцій, часові фільтри та, додатково, опції управління файлами і директоріями.  

### <a name="recursive-reflector"></a> Опція `recursive`  
Файлові фільтри мають певний діапазон видимості, який визначається полем-опцією `recursive` тому, при їх використанні зверніть увагу на її значення.
Поле `recursive` приймає три значення:  
"0" - зчитується файл (директорія) вказана в шляху;  

![recursive.0.png](./Images/recursive.0.png)

"1" - зчитується файли (директорії), що поміщені за вказаним шляхом (вміст директорій не зчитується);  

![recursive.1.png](./Images/recursive.1.png)

"2" - зчитуються файли і директорії на всіх рівнях, що нижче від вказаного в шляху.  

![recursive.2.png](./Images/recursive.2.png)

За замовчуванням значення поля `recursive` - "2" - копіювання всієї структури.

### <a name="reflector-simple-filters"></a> Прості фільтри рефлектора  
Прості фільтри - це фільтри, які сортують файли за назвою. 
`begins` - включає в вибірку всі файли в директорії, назва яких починається з указаного в фільтрі слова.  
`ends` - включає в вибірку всі файли, назва яких закінчується на вказане в фільтрі слово.  
`hasExtension` - якщо розширення файла співпадає з вказаним в фільтрі, то файл буде включений в вибірку. Розширення файла може бути складним і утиліта `willbe` зчитує його, починаючи з першої крапки в назві файла. Наприклад, файл `somefile.txt.md` має два розширення - `txt` i `md`.    
Приклад запису фільтра:  
```yaml
src:
  begins:
    - 'file'
    
```

### <a name="reflector-masks"></a> Маски рефлектора  
Маски слугують для фільтрування файлових операцій в системі. Фільтрування може проходити на рівні терміналу операційної ситеми або ж в директорії розміщення файлів.  
Рефлектори `willbe` використовують три типи масок:  
`maskDirectory` - маска директорії, фільтрує файлові операції у вказаній директорії;  
`maskTerminal` - маска терміналу операційної системи, фільтрує консольні операції;  
`maskAll` - одночасно фільтрує всі файлові операції.
Маски використовують спеціалізовані поля, які можуть приймати прямі значення або ж синтаксис регулярних виразів JavaScript. До цих полів відносяться:
`includeAny` - включити в вибірку будь-який елемент з вказаним параметром;  
`includeAll` - включити в вибірку всі знайдені елементи з вказаним параметром;  
`excludeAny` - виключити з вибірки будь-який елемент з вказаним параметром;  
`excludeAll` - виключити з вибірки всі елементи з вказаним параметром.
При використанні масок їх запис наступний:

```yaml
src :
  maskDirectory :
    includeAll : !!js/regexp '/\.js$/'  
    excludeAny : !!js/regexp '/\.cson$/'  
  
```

Цей запис означає включити виконання всіх операцій для файлів з розширенням '.js', та виключити будь-який з розширенням '.cson' в директорії.  

### <a name="time-filters"></a> Часові фільтри  
Фільтри необхідні для обмеження вибору по часовим критеріям. Рефлектори мають чотири часових фільтра: `notOlder`, `notNewer`, `notOlderAge`, `notNewerAge`. В параметрах полів вносяться значення в мілісекундах (1 с = 1000 мс; 1 год = 3600000 мс).  
Часові фільтри мають такі значення
`notOlder` - всі файли не старше на момент вибірки;  
`notNewer` - всі файли не новіше на момент вибірки; 
`notOlderAge` - вік файлів, не старший від встановленого на час проведення процедури;  
`notNewerAge` - вік файлів, не менше від встановленого на час проведення процедури. 
Приклад, де вибираються файли не старіші від 10 с на момент вибірки:

```yaml
src :
  notOlder : 10000

```

### <a name="time-filters"></a> Управління директоріями і файлами  
При виконанні файлових операцій в рефлекторі можливо додатково управляти доступом до окремих файлів і директорій. Здійснюється управління указанням значенням істинності ресурсу в полі `filePath` - булевими значеннями `0` і `1` або `true` i `false`.
Приклад, де включено директорію за шляхом `files/files.two` i вимкнено директорію `proto`:  

```yaml
src:
  filePath: 
    files/files.two : 1
    proto : false

```