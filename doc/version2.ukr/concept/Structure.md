# Внутрішня будова

### Секція <code>will-файла</code>  

Вища структурна одиниця <code>will-файла</code>, яка складається з ресурсів одного типу або полів, що описують даний модуль.

Для побудови модуля існує 6-ть необов'язкових секцій: `about`, `path`, `submodule`, `step`, `reflector`, `build` та одна секція, яка генерується утилітою `willbe` при експорті модуля - секція `exported`.   

Повна структура `will-файла` з секціями:  

```
will-file
    ├── about
    ├── submodule
    ├── path
    ├── reflector
    ├── step
    ├── exported
    └── build

```

Порядок розташування і кількість секцій в `will-файлі` визначається його призначенням. Наприклад, можлива така структура:  

```
will-file
    ├── step
    ├── about
    ├── build
    └── submodule

```

### Призначення секцій `will-файла`

<details>
  <summary><a href="./concept/SectionAbout.md">Секція <code>about</code></a></summary>
  Секція містить описову інформація про модуль
</details>
<details>
  <summary><a href="./concept/Path.section.md">Секція <code>path</code></a></summary>
  Секція представляє карту шляхів модуля для швидкого орієнтування в його файловій структурі
</details>
<details>
  <summary><a href="./concept/Submodule.section.md">Секція <code>submodule</code></a></summary>
  Секції містить інформацію про підмодулі
</details>
<details>
  <summary><a href="./concept/Submodule.section.md">Секція <code>step</code></a></summary>
  Секція містить кроки, які можуть бути застосовані збіркою для побудови модуля
</details>
<details>
  <summary><a href="./concept/Submodule.section.md">Секція <code>reflector</code></a></summary>
  Основними функціями ресурсів секції (рефлекторів) є файлові операції
</details>
<details>
  <summary><a href="./concept/Submodule.section.md">Секція <code>exported</code></a></summary>
  Секція <code>out-will-файла</code>, програмно генерується при експортуванні модуля
</details>
<details>
  <summary><a href="./concept/Submodule.section.md">Секція <code>build</code></a></summary>
  Ресурси секції (збірки) описують послідовність і умови виконання процедур створення модуля
</details>

Приклад `will-файла`:  

![will.file.inner.png](./Images/will.file.inner.png)  

### Ресурси
Структурна і функціональна одиниця <code>will-файла</code>. В файлі ресурси одного типу зібрані в одній секції.  

Ресурси секцій позначаються декларативно, тобто, вказується лише результат, який потрібно отримати, а послідовність дій для отримання результату опускається.  
Вигляд ресурсів окремих секцій відрізняється. На рисунку підмодуль `Tools` секції `submodule` має скорочену форму запису, а ресурс `npm.install` секції `step` - повну (розширену):

![resource.png](./Images/resource.png)  

### Тип ресурса

Функціональність пов'язана із групою ресурсів, обмежена призначенням. Приклад того, які бувать типи ресурів: шлях, підмодуль, крок, збірка. Кожен тип ресурів має власне призначення і обробляється утиілітою по-різному.

В секції `path` об'єднані ресурси типу `шлях` - ресурс указує на шлях до файла (директорії) і використовується в роутингу для інших ресурсів. Секція `step` об'єднує ресурси типу "функція побудови [модуля](Module.md#Модуль)" (скорочена назва "крок") - ресурс вказує процедуру побудови і умови її виконання. Секція `reflector` - ресурс типу "рефлектор" - виконання операцій з файлами. Секція `submodule` об'єднує ресурси "підмодулі" - допоміжні частини модуля, окремі модулі. Секція `build` поміщає ресурси типу "збірка" - послідовність виконання побудови модуля. Секція `exported` включає описові поля і посилання на ресурси інших секцій. Секція `about` не має ресурсів, а містить описову інформацію про модуль.
