# Локальні і віддалені підмодулі

### Локальний підмодуль  

Підмодуль, який розташовується на машині користувача.  

Будь-який модуль, який розташовується на локальній машині можна підключити як підмодуль іншого модуля. Для підключення підмодуля в секції `submodule` вказується ресурс з шляхом до `will-файла` іншого модуля (створеного користувачем або експортованого утилітою). Для підключення локального підмодуля краще використовувати експортовані `some_name.out.will`-файли, оскільки вони містять інформацію про модуль і збірки по яким він побудований.  
На рисунку приведений код `will-файла` з двома локальними підмодулями - `ModuleOne` i `LocalModule`. Перший локальний підмодуль поміщається в директорії `ModuleOne`, яка знаходиться в кореневій директорії модуля (відносний шлях), а другий - в директорії за шляхом `/home/user/localModule/` (абсолютний шлях в Linux дистрибутиві).

![submodule.local.png](./Images/submodule.local.png)

Схематичне представлення структури модуля:   

```
/                                                  # корінь файлової системи Linux дистрибутива
├── home                            
│     ├── user                      
├──        ├── localModule
├──                 ├── localFiles                 # директорія з файлами модуля localModule 
                    │       ├── ...
                    │       ├── ...
                    │
                    └── localModule.out.will.yml   # експортований конфігураційний файл модуля localModule 
... 
       ...                          # будь-який шлях до директорії модуля local
        ├── ModuleOne               
        │       ├── moduleFile      # файли модуля ModuleOne 
        │       └── .will.yml       # конфігураційний файл модуля ModuleOne
        └── .will.yml               # конфігураційний файл модуля local
        
```  

Вибір форми запису шляхів до локальних підмодулів залежить від взаємного розташування модулів.  
Утиліта `willbe` не має інструментів по управлінню над локальними підмодулями. Видалення локальних підмодулів з модуля здійснюється редагуванням відповідних ресурсів `will-файла`. 

### Віддалений підмодуль  

Модуль, який знаходиться на віддаленому сервері, для використання завантажується на локальну машину. Завантажені віддалені підмодулі знаходяться в директорії <code>.module</code> в кореневому каталозі <code>will-файлa</code>.  

Для встановлення віддаленого підмодуля вказується ресурс з URL-шляхом до модуля в секції `submodule` та завантажується командою `will .submodules.download` в консолі операційної системи з кореневої директорії `will-файла`.  
Приклад секції `submodule` з віддаленими підмодулями `Tools` i `PathFundamentals`:  

```yaml
submodule :
    Tools : git+https:///github.com/Wandalen/wTools.git/out/wTools#master
    PathFundamentals : git+https:///github.com/Wandalen/wPathFundamentals.git/out/wPathFundamentals#master
    Color : npm:///wColor/out/wColor#0.3.102

```

Крім завантаження утиліта має команди:  
\- фіксування версій підмодуля `will .submodules.fixate` та оновлення посилань на підмодулі в `will-файлі` - `will .submodules.upgrade.refs`;
\- оновлення завантажених підмодулів фразою `will .submodules.update` (якщо є доступні оновлення);
\- видалення завантажених підмодулів разом з директорією `.module` фразою `will .submodules.clean`.  

Для виводу інформації про стан підмодулів (локальних і віддалених) використовується фраза `will .submodules.list`.  